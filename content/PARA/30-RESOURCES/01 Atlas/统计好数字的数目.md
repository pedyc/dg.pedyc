---
title: ç»Ÿè®¡å¥½æ•°å­—çš„æ•°ç›®
tags: [æ•°è®º, æ¨¡è¿ç®—, å¿«é€Ÿå¹‚]
date-created: 2025-04-04
date-modified: 2025-12-10
---

## é¢˜ç›®

https://leetcode.cn/problems/count-good-numbers/description/?envType=daily-question&envId=2025-04-13

æˆ‘ä»¬ç§°ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²æ˜¯Â **å¥½æ•°å­—**Â å½“å®ƒæ»¡è¶³ï¼ˆä¸‹æ ‡ä»Â **0**Â å¼€å§‹ï¼‰**å¶æ•°**Â ä¸‹æ ‡å¤„çš„æ•°å­—ä¸ºÂ **å¶æ•°**Â ä¸”Â **å¥‡æ•°**Â ä¸‹æ ‡å¤„çš„æ•°å­—ä¸ºÂ **è´¨æ•°**Â ï¼ˆ`2`ï¼Œ`3`ï¼Œ`5`Â æˆ–Â `7`ï¼‰ã€‚

- æ¯”æ–¹è¯´ï¼Œ`"2582"`Â æ˜¯å¥½æ•°å­—ï¼Œå› ä¸ºå¶æ•°ä¸‹æ ‡å¤„çš„æ•°å­—ï¼ˆ`2`Â å’ŒÂ `8`ï¼‰æ˜¯å¶æ•°ä¸”å¥‡æ•°ä¸‹æ ‡å¤„çš„æ•°å­—ï¼ˆ`5`Â å’ŒÂ `2`ï¼‰ä¸ºè´¨æ•°ã€‚ä½†Â `"3245"`Â **ä¸æ˜¯**Â å¥½æ•°å­—ï¼Œå› ä¸ºÂ `3`Â åœ¨å¶æ•°ä¸‹æ ‡å¤„ä½†ä¸æ˜¯å¶æ•°ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°Â `n`Â ï¼Œè¯·ä½ è¿”å›é•¿åº¦ä¸ºÂ `n`Â ä¸”ä¸ºå¥½æ•°å­—çš„æ•°å­—å­—ç¬¦ä¸²Â **æ€»æ•°**Â ã€‚ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†å®ƒå¯¹Â `109 + 7`Â **å–ä½™åè¿”å›**Â ã€‚

ä¸€ä¸ªÂ **æ•°å­—å­—ç¬¦ä¸²**Â æ˜¯æ¯ä¸€ä½éƒ½ç”±Â `0`Â åˆ°Â `9`Â ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸”å¯èƒ½åŒ…å«å‰å¯¼ 0 ã€‚

## å®ç°

æ€è·¯ï¼šä¹˜æ³• + å¿«é€Ÿå¹‚
- è‹¥ n æœ‰ a ä¸ªå¶æ•°ä¸‹æ ‡ï¼Œæ¯ä¸ªä¸‹æ ‡å¯å– $[0,2,4,6,8]$ 5 ç§æ–¹æ¡ˆ
- è‹¥ n æœ‰ b ä¸ªå¥‡æ•°ä¸‹æ ‡ï¼Œæ¯ä¸ªä¸‹æ ‡å¯å– $[2,3,5,7]$ 4 ç§æ–¹æ¡ˆ
å¥‡å¶ä¸‹æ ‡äº’ç›¸ç‹¬ç«‹ï¼Œæ ¹æ®ä¹˜æ³•åŸç†ï¼Œç­”æ¡ˆä¸ºï¼š$5^a*4^b$
æ³¨æ„ï¼šå–æ¨¡é¿å…æ•°å€¼æº¢å‡º
- æ•°å­— n çš„å¶æ•°ä½æ€»æ•° `ceil(n/2)`ï¼Œå¥‡æ•°ä½æ€»æ•° `floor(n/2)`
- å¿«é€Ÿå¹‚å‚è§ğŸ‘‰[[å¿«é€Ÿå¹‚Pow(x,n)]]

> [!hint] å¤æ‚åº¦åˆ†æ
> - æ—¶é—´å¤æ‚åº¦ï¼š$O(log n)$
> - ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

```javascript
const MOD = 1_000_000_007n;

var countGoodNumbers = function(N) {
    const n = BigInt(N);
    return Number(pow(5n, (n + 1n) / 2n) * pow(4n, n / 2n) % MOD);
};

var pow = function(x, n) {
    let res = 1n;
    while (n) {
        if (n & 1n) {
            res = res * x % MOD;
        }
        x = x * x % MOD;
        n >>= 1n;
    }
    return res;
};
```
